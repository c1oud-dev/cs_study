<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title }}</title>
    <style>
    /* ========== Base ========== */
    body {
      margin: 0;
      font-family: sans-serif;
      line-height: 1.6;
      background: #f9f9f9;
      color: #333;
    }
    a { text-decoration: none; color: inherit; }

    /* Header */
    header {
      padding: 1rem 1rem;
      background: #fff;
      border-bottom: 1px solid #ddd;
    }
    .logo { font-size: 1.5rem; font-weight: bold; color: #0366d6; }

    /* ========== Container & Main ========== */
    /* ê¸°ë³¸ì€ ì¼ë°˜ ë¸”ë¡ ë ˆì´ì•„ì›ƒ(í™ˆ ë“±) */
    .container {
      display: block;                 /* â† flex ì œê±° */
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .container > main {
      width: 100%;
      max-width: 1100px;
      box-sizing: border-box;
      padding: 0;
      margin: 0 auto;                 /* ê¸°ë³¸ì€ ê°€ìš´ë° ì •ë ¬ */
    }

    /* ì‚¬ì´ë“œë°” ìˆëŠ” í˜ì´ì§€ ì „ìš© ê·¸ë¦¬ë“œ */
    .has-sidebar .container {
      display: grid !important;       /* ì¶©ëŒ ë°©ì§€ìš© */
      grid-template-columns: 260px 1fr;
      gap: 2rem;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .has-sidebar .container > main {
      grid-column: 2;
      max-width: none;                /* ê³ ì •í­ í•´ì œ â†’ ì¹¼ëŸ¼ ê°€ë“ */
      width: 100%;
      margin: 0;                      /* ê°€ìš´ë° ì •ë ¬ í•´ì œ */
      padding-left: .25rem;
      padding-right: .25rem;
    }

    /* ========== Sidebar ========== */
    .sidebar {
      grid-column: 1;
      position: sticky;
      top: 56px;                      /* í—¤ë” ë†’ì´ì— ë§ê²Œ ì¡°ì ˆ ê°€ëŠ¥ */
      align-self: start;
      background: #f7f7f7;
      border-right: 1px solid #e5e5e5;
      padding: 1rem;
      border-radius: 8px;
      height: auto;                   /* ë‚´ë¶€ ìŠ¤í¬ë¡¤ ì œê±° â†’ í˜ì´ì§€ í•˜ë‚˜ë§Œ ìŠ¤í¬ë¡¤ */
      overflow: visible;
    }
    .sidebar ul { list-style: none; padding: 0; margin: 0; }
    .sidebar li { margin-bottom: 0.5rem; }
    .sidebar a { display: block; padding: 0.35rem 0.4rem 0.35rem 0.6rem; color: #2b6cb0; border-radius: 6px; }
    .sidebar a:hover { background: #e9eef9; }
    .sidebar a.active {
      background: #e2e8ff;
      color: #1e40af;
      font-weight: 700;
      border-left: 3px solid #6a5af9;
    }
    .sidebar summary {
      font-weight: 700;
      cursor: pointer;
      padding: 0.4rem 0;
      color: #333;
      list-style: none;
    }
    .sidebar details > ul { list-style: none; margin: 0.25rem 0 0.5rem 0; padding: 0; }
    .sidebar nav { margin-top: 0.5rem; }
    .sidebar .nav-search { margin-bottom: 0.75rem; }
    .sidebar .nav-search input {
      width: 100%;
      height: 36px;
      padding: 0.4rem 0.6rem;
      border: 1px solid #d0d0d0;
      border-radius: 6px;
      font-size: 0.95rem;
      background: #fff;
    }

    /* ========== Accordion (ê³µí†µ) ========== */
    details {
      border: 1px solid #ddd;
      border-radius: 6px;
      margin-bottom: 1.5rem;
      background: #fff;
    }
    summary {
      cursor: pointer;
      padding: 0.75rem 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.25rem;
      list-style: none;
      outline: none;
    }
    .indicator { font-size: 0.875rem; color: #0366d6; }
    .accordion-content { padding: 0 1rem 1rem; }
    .accordion-content li { font-size: 0.9rem; line-height: 1.6; }
    .accordion-title { font-weight: 700; color: #0366d6; }
    summary:hover .accordion-title { color: #0255a5; }

    /* ========== ë…¸ì…˜ ìŠ¤íƒ€ì¼ ë¦¬ìŠ¤íŠ¸ ========== */
    .accordion-content ul,
    .accordion-content ol {
      margin: 0.75rem 0;
      padding-left: 0;
      list-style: none;
    }

    .accordion-content ul li,
    .accordion-content ol li {
      position: relative;
      padding: 0.4rem 0 0.4rem 1.75rem;
      margin-bottom: 0.25rem;
      font-size: 0.95rem;
      line-height: 1.7;
      color: #37352f;
      border-radius: 4px;
      transition: background 0.15s ease;
    }

    .accordion-content ul li:hover,
    .accordion-content ol li:hover {
      background: rgba(55, 53, 47, 0.04);
    }

    /* ìˆœì„œ ì—†ëŠ” ë¦¬ìŠ¤íŠ¸ bullet */
    .accordion-content ul li::before {
      content: "";
      position: absolute;
      left: 0.5rem;
      top: 0.85rem;
      width: 6px;
      height: 6px;
      background: #37352f;
      border-radius: 50%;
    }

    /* ìˆœì„œ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ ë²ˆí˜¸ */
    .accordion-content ol {
      counter-reset: list-counter;
    }

    .accordion-content ol li::before {
      counter-increment: list-counter;
      content: counter(list-counter) ".";
      position: absolute;
      left: 0.25rem;
      top: 0.4rem;
      font-weight: 500;
      color: #37352f;
      font-size: 0.9rem;
    }

    /* ì¤‘ì²© ë¦¬ìŠ¤íŠ¸ */
    .accordion-content ul ul,
    .accordion-content ol ol,
    .accordion-content ul ol,
    .accordion-content ol ul {
      margin: 0.25rem 0 0.25rem 0.5rem;
      padding-left: 0;
    }

    /* ì¤‘ì²© bullet ìŠ¤íƒ€ì¼ ë³€ê²½ (ì†ì´ ë¹ˆ ì›) */
    .accordion-content ul ul li::before {
      background: transparent;
      border: 1.5px solid #37352f;
    }

    /* ì¤‘ì²© ì¤‘ì²© (ëŒ€ì‹œ) */
    .accordion-content ul ul ul li::before {
      width: 8px;
      height: 2px;
      border-radius: 0;
      border: none;
      background: #37352f;
      top: 1rem;
    }

    /* ë¦¬ìŠ¤íŠ¸ ë‚´ ê°•ì¡° í…ìŠ¤íŠ¸ */
    .accordion-content li b,
    .accordion-content li strong {
      color: #1a1a1a;
      font-weight: 600;
    }

    /* ë¦¬ìŠ¤íŠ¸ ë‚´ ì½”ë“œ */
    .accordion-content li code {
      background: rgba(135, 131, 120, 0.15);
      padding: 0.15rem 0.4rem;
      border-radius: 4px;
      font-size: 0.85em;
      color: #eb5757;
      font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    }

    /* ========== Nested details (ë“¤ì—¬ì“°ê¸°) ========== */
    .nested-details {
      margin-left: 20px;
      border-left: 3px solid #ddd;
      padding-left: 10px;
      margin-top: 0.75rem;
    }

    /* ========== Home ì „ìš©(ìˆì–´ë„ ë¬´í•´) ========== */
    .hero { padding: 3rem 2rem; background: #fff; text-align: center; }
    .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    .hero p { font-size: 1.125rem; color: #555; margin-bottom: 1.5rem; }
    .search-input {
      padding: 0.75rem 1rem;
      width: 300px;
      max-width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }

    /* ========== Responsive ========== */
    /* 1024px ì´í•˜: ì‚¬ì´ë“œë°” ìœ„/ë³¸ë¬¸ ì•„ë˜ (ë‹¨ì¼ ì»¬ëŸ¼) */
    @media screen and (max-width: 1024px) {
      .has-sidebar .container {
        display: block !important;
        padding: 0 0.75rem;
      }
      .sidebar {
        position: static;
        height: auto;
        margin: 0.75rem 0 0;
        border-right: none;
      }
      .container > main {
        max-width: 1100px;
        margin: 0 auto;
      }
    }

    /* 600px ì´í•˜: ì•„ì½”ë””ì–¸/ê²€ìƒ‰ ë“± ìì˜í•œ ë³´ì • */
    @media screen and (max-width: 600px) {
      .hero { padding: 2rem 1rem; }
      .search-input { width: 100%; }
    }

    /* ========== ë°˜ì‘í˜•: ë…¹ìƒ‰ ë°•ìŠ¤ & ë‹µë³€ í°íŠ¸ ========== */
    /* ë…¹ìƒ‰ ë°•ìŠ¤(ğŸŸ©) ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
    summary span[style*="float:right"],
    summary span[style*="float: right"] {
      font-size: 0.85rem;
      letter-spacing: 1px;
    }

    /* íƒœë¸”ë¦¿ (768px ì´í•˜) */
    @media screen and (max-width: 768px) {
      /* ë…¹ìƒ‰ ë°•ìŠ¤ í¬ê¸° ì¶•ì†Œ */
      summary span[style*="float:right"],
      summary span[style*="float: right"] {
        font-size: 0.65rem;
        letter-spacing: 0.5px;
      }
      /* ë‹µë³€ í°íŠ¸ ì‚¬ì´ì¦ˆ */
      .accordion-content p,
      .accordion-content li {
        font-size: 0.95rem;
        line-height: 1.65;
      }
    }

    /* ëª¨ë°”ì¼ (480px ì´í•˜) */
    @media screen and (max-width: 480px) {
      /* ë…¹ìƒ‰ ë°•ìŠ¤: ì¤„ë°”ê¿ˆ í—ˆìš© & ë” ì‘ê²Œ */
      summary {
        flex-wrap: wrap;
        gap: 0.3rem;
      }
      summary span[style*="float:right"],
      summary span[style*="float: right"] {
        float: none !important;
        display: block;
        font-size: 0.55rem;
        letter-spacing: 0px;
        margin-top: 0.25rem;
      }
      /* ì§ˆë¬¸ ì œëª© í°íŠ¸ */
      summary b {
        font-size: 0.9rem;
      }
      /* ë‹µë³€ í°íŠ¸ ì‚¬ì´ì¦ˆ ì¶•ì†Œ */
      .accordion-content p,
      .accordion-content li {
        font-size: 0.88rem;
        line-height: 1.6;
      }
      /* ë¦¬ìŠ¤íŠ¸ ê°„ê²© ì¡°ì • */
      .accordion-content ul li,
      .accordion-content ol li {
        padding: 0.35rem 0 0.35rem 1.5rem;
      }
      .accordion-content ul li::before {
        left: 0.35rem;
        width: 5px;
        height: 5px;
      }
      .accordion-content ol li::before {
        left: 0.15rem;
        font-size: 0.85rem;
      }
    }

    /* ì•„ì£¼ ì‘ì€ í™”ë©´ (360px ì´í•˜) */
    @media screen and (max-width: 360px) {
      summary span[style*="float:right"],
      summary span[style*="float: right"] {
        font-size: 0.5rem;
        letter-spacing: 0px;
      }
      summary b {
        font-size: 0.85rem;
      }
      .accordion-content p,
      .accordion-content li {
        font-size: 0.82rem;
        line-height: 1.55;
      }
    }

    /* === tighten h4 and following paragraph spacing === */
    h4 { margin-bottom: 0; }
    h4 + p { margin-top: 4px; } /* í•„ìš”ì— ë”°ë¼ 0~8pxë¡œ ì¡°ì • */
    /* h4 ë°”ë¡œ ë‹¤ìŒ pì˜ ê¸€ì í¬ê¸°ë¥¼ h4ë³´ë‹¤ ì‚´ì§ ì‘ê²Œ */
    h4 + p { font-size: 0.95rem; } /* í•„ìš”ì‹œ 0.9rem~1remë¡œ ì¡°ì ˆ */
  </style>
  
<style id="sidebar-hotfix">
/* === ë ˆì´ì•„ì›ƒ ê°•ì œ ì˜¤ë²„ë¼ì´ë“œ === */

/* í™ˆ/ê¸°ë³¸(ì‚¬ì´ë“œë°” ì—†ìŒ) */
.no-sidebar .container{
  display:block !important;
  max-width:1280px !important;
  margin:0 auto !important;
  padding:0 1rem !important;
}
.no-sidebar .container>main{
  max-width:1100px !important;
  margin:0 auto !important;
  padding:0 .75rem !important;
}

/* ì‚¬ì´ë“œë°” ìˆëŠ” í˜ì´ì§€: ì¢Œì¸¡ ì‚¬ì´ë“œë°” + ìš°ì¸¡ ë³¸ë¬¸ ê·¸ë¦¬ë“œ ê°•ì œ */
.has-sidebar .container{
  display:grid !important;
  grid-template-columns:260px 1fr !important;
  gap:2rem !important;
  max-width:1280px !important;
  margin:0 auto !important;
  padding:0 1rem !important;
}
/* ì¹¼ëŸ¼ ìœ„ì¹˜ ê³ ì •(HTML ìˆœì„œì™€ ë¬´ê´€) */
.has-sidebar .container>main{
  grid-column:2 !important;
  grid-row:1 !important;
  max-width:none !important;
  width:100% !important;
  margin:0 !important;
  padding-left:.25rem !important;
  padding-right:.25rem !important;
}
.has-sidebar .sidebar{
  grid-column:1 !important;
  grid-row:1 !important;
  position:sticky !important;
  top:56px !important;          /* í—¤ë” ë†’ì´ì— ë§ì¶° í•„ìš”ì‹œ 56~72px ì¡°ì ˆ */
  align-self:start !important;
  background:#f7f7f7 !important;
  border-right:1px solid #e5e5e5 !important;
  padding:1rem !important;
  border-radius:8px !important;
  height:auto !important;       /* ë‚´ë¶€ ìŠ¤í¬ë¡¤ ì œê±° â†’ í˜ì´ì§€ í•˜ë‚˜ë§Œ ìŠ¤í¬ë¡¤ */
  overflow:visible !important;
}

/* ë§í¬/í•˜ì´ë¼ì´íŠ¸(ìˆìœ¼ë©´ ë³´ê¸° ì¢‹ìŒ) */
.has-sidebar .sidebar a{
  display:block; padding:.35rem .4rem .35rem .6rem;
  color:#2b6cb0; border-radius:6px;
}
.has-sidebar .sidebar a:hover{ background:#e9eef9; }
.has-sidebar .sidebar a.active{
  background:#e2e8ff; color:#1e40af; font-weight:700;
  border-left:3px solid #6a5af9;
}

/* 1024px ì´í•˜: ë‹¨ì¼ ì»¬ëŸ¼ìœ¼ë¡œ ì „í™˜ */
@media (max-width:1024px){
  .has-sidebar .container{ display:block !important; padding:0 .75rem !important; }
  .has-sidebar .sidebar{
    position:static !important; height:auto !important;
    margin:.75rem 0 0 !important; border-right:none !important;
  }
  .has-sidebar .container>main{ max-width:1100px !important; margin:0 auto !important; }
}
</style>

</head>
  
<body class="{% if page.sidebar == false %}no-sidebar{% else %}has-sidebar{% endif %}">
  <header>
    <a href="/cs_study/home.html" class="logo">CS ì •ë¦¬</a>
  </header>

  <div class="container">
    <main>
      {{ content }}
    </main>

    {%- unless page.sidebar == false -%}
    <aside class="sidebar">
      {% include sidebar.html %}
    </aside>
    {%- endunless -%}
  </div>

  <script>
    // Accordion toggle indicator update
    document.querySelectorAll('details').forEach(detail => {
      const indicator = detail.querySelector('.indicator');
      detail.addEventListener('toggle', () => {
        indicator.textContent = detail.open ? 'ì ‘ê¸°' : 'í¼ì¹˜ê¸°';
      });
    });
    // Home category search filter
    const searchInput = document.querySelector('.search-input');
    if (searchInput) {
      searchInput.addEventListener('input', e => {
        const filter = e.target.value.toLowerCase();
        document.querySelectorAll('.category-card').forEach(card => {
          const text = card.textContent.toLowerCase();
          card.style.display = text.includes(filter) ? 'flex' : 'none';
        });
      });
    }

    // --- Sidebar: í˜„ì¬ í˜ì´ì§€ ë§í¬ í•˜ì´ë¼ì´íŠ¸ ì¶”ê°€ ---
  (function() {
    const here = location.pathname.replace(/\/+$/, ""); // ë '/' ì œê±°
    document.querySelectorAll(".sidebar a").forEach(a => {
      const href = a.getAttribute("href");
      if (!href) return;
      const clean = href.replace(/\/+$/, "");
      // ì •í™•íˆ ê°™ê±°ë‚˜, í˜„ì¬ ê²½ë¡œê°€ í•´ë‹¹ ë§í¬ë¡œ ëë‚˜ëŠ” ê²½ìš° í™œì„±í™”
      if (here === clean || (clean !== "/" && here.endsWith(clean))) {
        a.classList.add("active");
      }
    });
  })();

  // --- Sidebar: ê²€ìƒ‰ í•„í„° ì¶”ê°€ ---
  (function() {
    const input = document.getElementById("nav-filter");
    if (!input) return;

    input.addEventListener("input", (e) => {
      const q = e.target.value.trim().toLowerCase();

      // ë§í¬ í…ìŠ¤íŠ¸ ê¸°ì¤€ í•„í„°
      const links = document.querySelectorAll(".sidebar nav a");
      links.forEach(a => {
        const show = a.textContent.toLowerCase().includes(q);
        a.style.display = show ? "block" : "none";
      });

      // details ê·¸ë£¹: ë‚´ë¶€ì— ë³´ì´ëŠ” ë§í¬ê°€ ìˆìœ¼ë©´ í¼ì¹˜ê³ , ì—†ìœ¼ë©´ ìˆ¨ê¹€
      document.querySelectorAll(".sidebar nav details").forEach(d => {
        const anyVisible = Array.from(d.querySelectorAll("a")).some(a => a.style.display !== "none");
        d.open = anyVisible || q !== "";
        d.style.display = anyVisible || q === "" ? "block" : "none";
      });
    });
  })();
    
  </script>
</body>
</html>
