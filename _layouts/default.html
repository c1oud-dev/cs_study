<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title }}</title>
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><polygon points='0,32 32,32 32,0' fill='%23ff6b35'/></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ========== Reset & Base ========== */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.6;
      background: #f8f9fa;
      color: #1a1a2e;
    }
    a { text-decoration: none; color: inherit; }

    /* br 태그 간격 조절 */
    br {
      display: block;
      content: "";
      margin-top: 0.3rem;
    }

    /* ========== Header ========== */
    header {
      padding: 1rem 1.5rem;
      background: #fff;
      border-bottom: 1px solid #e9ecef;
      box-shadow: 0 1px 3px rgba(0,0,0,0.04);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .logo { 
      font-size: 1.25rem; 
      font-weight: 700; 
      color: #ff6b35;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .logo::before {
      content: "◢";
      font-size: 1.5rem;
    }

    /* ========== Container & Layout ========== */
    .container {
      display: block;
      max-width: 1400px;
      margin: 0 auto;
      padding: 1.5rem;
    }
    .container > main {
      width: 100%;
      max-width: 1100px;
      box-sizing: border-box;
      padding: 0;
      margin: 0 auto;
    }

    /* 사이드바 있는 페이지 */
    .has-sidebar .container {
      display: grid !important;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
      max-width: 1400px;
      margin: 0 auto;
      padding: 1.5rem;
    }
    .has-sidebar .container > main {
      grid-column: 2;
      max-width: none;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    /* ========== Sidebar ========== */
    .sidebar {
      grid-column: 1;
      position: sticky;
      top: 80px;
      align-self: start;
      background: #fff;
      border: 1px solid #e9ecef;
      padding: 1.25rem;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      height: fit-content;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
    }

    /* 사이드바 스크롤바 스타일 */
    .sidebar::-webkit-scrollbar {
      width: 6px;
    }
    .sidebar::-webkit-scrollbar-track {
      background: transparent;
    }
    .sidebar::-webkit-scrollbar-thumb {
      background: #ddd;
      border-radius: 3px;
    }

    .sidebar ul { 
      list-style: none; 
      padding: 0; 
      margin: 0; 
    }
    .sidebar li { 
      margin-bottom: 0.25rem; 
    }
    .sidebar a { 
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.7rem 1rem;
      color: #495057;
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .sidebar a::before {
      content: "—";
      color: #adb5bd;
      font-weight: 400;
    }
    .sidebar a:hover { 
      background: #f8f9fa;
      color: #1a1a2e;
    }
    .sidebar a.active {
      background: #fff4f0;
      color: #ff6b35;
      font-weight: 600;
    }
    .sidebar a.active::before {
      color: #ff6b35;
    }

    /* 사이드바 그룹 */
    .sidebar details {
      border: none;
      margin-bottom: 1rem;
      background: transparent;
      border-radius: 0;
      box-shadow: none;
    }
    .sidebar summary {
      font-weight: 600;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #868e96;
      padding: 0.75rem 0.5rem;
      cursor: pointer;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: transparent;
    }
    .sidebar summary:hover {
      background: transparent;
    }
    .sidebar summary::before {
      content: "▸";
      font-size: 0.7rem;
      transition: transform 0.2s;
    }
    .sidebar details[open] summary::before {
      transform: rotate(90deg);
    }
    .sidebar details > ul { 
      margin: 0.5rem 0 0 0;
      padding: 0;
    }
    .sidebar nav { margin-top: 0; }

    /* 사이드바 검색 */
    .sidebar .nav-search { 
      margin-bottom: 1.25rem;
    }
    .sidebar .nav-search input {
      width: 100%;
      height: 42px;
      padding: 0 1rem;
      border: 1px solid #e9ecef;
      border-radius: 10px;
      font-size: 0.9rem;
      background: #f8f9fa;
      transition: all 0.2s;
    }
    .sidebar .nav-search input:focus {
      outline: none;
      border-color: #ff6b35;
      background: #fff;
      box-shadow: 0 0 0 3px rgba(255,107,53,0.1);
    }
    .sidebar .nav-search input::placeholder {
      color: #adb5bd;
    }

    /* ========== 메인 아코디언 (섹션) ========== */
    details {
      border: 1px solid #e9ecef;
      border-radius: 16px;
      margin-bottom: 1.5rem;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
      overflow: hidden;
    }
    summary {
      cursor: pointer;
      padding: 1.25rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1rem;
      list-style: none;
      outline: none;
      background: #fff;
      transition: background 0.2s;
    }
    summary:hover {
      background: #fafafa;
    }
    .indicator { 
      font-size: 0.8rem; 
      color: #868e96;
      background: #f1f3f4;
      padding: 0.3rem 0.75rem;
      border-radius: 20px;
      font-weight: 500;
    }
    .accordion-content { 
      padding: 0 1.5rem 1.5rem;
    }
    .accordion-title { 
      font-weight: 600; 
      color: #1a1a2e;
      font-size: 1.1rem;
    }

    /* ========== Q&A 카드 스타일 ========== */
    .accordion-content > details {
      border: 1px solid #e9ecef;
      border-radius: 12px;
      margin-bottom: 0.75rem;
      background: #fff;
      box-shadow: none;
      transition: all 0.2s ease;
    }
    .accordion-content > details:hover {
      border-color: #dee2e6;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }
    .accordion-content > details > summary {
      padding: 1rem 1.25rem;
      background: #fff;
      border-radius: 12px;
      font-size: 0.95rem;
    }
    .accordion-content > details[open] > summary {
      border-bottom: 1px solid #f1f3f4;
      border-radius: 12px 12px 0 0;
    }
    .accordion-content > details > summary b {
      font-weight: 600;
      color: #1a1a2e;
      flex: 1;
      line-height: 1.5;
    }

    /* 녹색 박스 → 배경 제거, 이모지만 표시 */
    .accordion-content > details > summary span[style*="float:right"],
    .accordion-content > details > summary span[style*="float: right"] {
      float: none !important;
      font-size: 0.85rem;
      letter-spacing: 1px;
      background: none;
      padding: 0;
      margin-left: 0.75rem;
      flex-shrink: 0;
    }

    /* 답변 영역 */
    .accordion-content > details > .accordion-content {
      padding: 1.25rem 1.25rem 1rem;
      background: #fafbfc;
      border-radius: 0 0 12px 12px;
    }
    .accordion-content > details > .accordion-content p {
      margin: 0 0 1rem 0;
      color: #495057;
      font-size: 0.92rem;
      line-height: 1.75;
    }
    .accordion-content > details > .accordion-content p:last-child {
      margin-bottom: 0;
    }

    /* ========== 노션 스타일 리스트 ========== */
    .accordion-content ul,
    .accordion-content ol {
      margin: 1rem 0;
      padding: 0;
      list-style: none;
    }

    .accordion-content ul li,
    .accordion-content ol li {
      position: relative;
      padding: 0.6rem 0.75rem 0.6rem 2rem;
      margin-bottom: 0.5rem;
      font-size: 0.92rem;
      line-height: 1.7;
      color: #495057;
      background: #fff;
      border: 1px solid #e9ecef;
      border-radius: 10px;
      transition: all 0.15s ease;
    }

    .accordion-content ul li:hover,
    .accordion-content ol li:hover {
      background: #fff;
      border-color: #dee2e6;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }

    /* 순서 없는 리스트 bullet */
    .accordion-content ul li::before {
      content: "";
      position: absolute;
      left: 0.75rem;
      top: 1rem;
      width: 6px;
      height: 6px;
      background: #ff6b35;
      border-radius: 50%;
    }

    /* 순서 있는 리스트 번호 */
    .accordion-content ol {
      counter-reset: list-counter;
    }
    .accordion-content ol li::before {
      counter-increment: list-counter;
      content: counter(list-counter);
      position: absolute;
      left: 0.6rem;
      top: 0.55rem; 
      font-weight: 600;
      color: #fff;
      font-size: 0.7rem;
      background: #ff6b35;
      width: 1.25rem;
      height: 1.25rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

   /* ========== 중첩 리스트 (2단계) ========== */
    .accordion-content ul ul,
    .accordion-content ol ol,
    .accordion-content ul ol,
    .accordion-content ol ul {
      margin: 0.75rem 0 0.25rem 0.5rem;
      padding-left: 0.75rem;
      border-left: 2px solid #e9ecef;
    }
    .accordion-content ul ul li,
    .accordion-content ol ul li {
      background: #f8f9fa;
      border-color: #e0e3e6;
    }
    .accordion-content ul ul li::before {
      background: transparent;
      border: 2px solid #ff6b35;
      width: 6px;
      height: 6px;
    }
    
    /* 중첩 리스트 (3단계) */
    .accordion-content ul ul ul,
    .accordion-content ol ol ol {
      border-left-color: #d1d5db;
    }
    .accordion-content ul ul ul li,
    .accordion-content ol ol ol li {
      background: #f1f3f5;
    }
    .accordion-content ul ul ul li::before {
      content: "—";
      background: none;
      border: none;
      color: #ff6b35;
      font-size: 0.7rem;
      font-weight: bold;
      width: auto;
      height: auto;
      top: 0.65rem;
    }

    /* ========== 섹션 박스 스타일 ========== */
    details.section-box {
      background: #fff;                    /* 흰색 배경 */
      border: 1px solid #e9ecef;           /* 기본 테두리 */
      border-left: 4px solid #6366f1;      /* 왼쪽 파란색 유지 */
    }
    details.section-box > summary {
      background: #fff;
    }
    details.section-box > summary:hover {
      background: #fafafa;
    }
    details.section-box > summary .accordion-title {
      color: #6366f1;                      /* 제목만 파란색 */
    }
    
    /* ========== 꼬리질문 스타일 ========== */
    .accordion-content > details.tail-question {
      background: #fff;                    /* 흰색 배경 */
      border: 1px solid #e9ecef;           /* 기본 테두리 */
      border-left: 4px solid #f59e0b;      /* 왼쪽 주황색 유지 */
    }
    .accordion-content > details.tail-question > summary {
      background: #fff;
    }
    .accordion-content > details.tail-question[open] > summary {
      border-bottom: 1px solid #e9ecef;
      border-radius: 12px 12px 0 0;
    }
    .accordion-content > details.tail-question > summary b {
      color: #f59e0b;                      /* 제목만 주황색 */
    }
    .accordion-content > details.tail-question > .accordion-content {
      background: #fafafa;
    }

    /* 리스트 내 강조 텍스트 */
    .accordion-content li b,
    .accordion-content li strong {
      color: #1a1a2e;
      font-weight: 600;
    }

    /* 리스트 내 코드 */
    .accordion-content li code,
    .accordion-content p code {
      background: #fff4f0;
      padding: 0.2rem 0.5rem;
      border-radius: 6px;
      font-size: 0.85em;
      color: #ff6b35;
      font-family: 'SF Mono', Consolas, monospace;
      border: 1px solid #ffe0d3;
    }

    /* ========== 코드 블록 ========== */
    pre {
      background: #1a1a2e;
      border-radius: 12px;
      padding: 1.25rem;
      overflow-x: auto;
      margin: 1rem 0;
    }
    pre code {
      background: none;
      border: none;
      color: #e9ecef;
      font-size: 0.85rem;
      padding: 0;
    }

     /* ========== 테이블 ========== */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.9rem;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid #d1d5db;           /* 테두리 더 진하게 */
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);  /* 그림자 추가 */
    }
    thead {
      background: #4b5563;                 /* 진한 회색 헤더 */
    }
    th, td {
      padding: 0.875rem 1rem;
      text-align: left;
      border-bottom: 1px solid #e9ecef;
    }
    th {
      font-weight: 600;
      color: #fff;                         /* 흰색 글자 */
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    tbody tr:hover {
      background: #f8f9fa;
    }
    tbody tr:last-child td {
      border-bottom: none;
    }

    /* ========== Breadcrumb ========== */
    .breadcrumb {
      font-size: 0.85rem;
      color: #868e96;
      margin-bottom: 1.5rem;
    }
    .breadcrumb a {
      color: #ff6b35;
      font-weight: 500;
    }
    .breadcrumb a:hover {
      text-decoration: underline;
    }

    /* ========== Section Title ========== */
    section h2 {
      font-size: 1.75rem;
      font-weight: 700;
      color: #1a1a2e;
      margin: 0 0 0.5rem 0;
    }
    section p {
      color: #868e96;
      margin: 0 0 2rem 0;
    }

    /* ========== Responsive ========== */
    @media screen and (max-width: 1024px) {
      .has-sidebar .container {
        display: block !important;
        padding: 1rem;
      }
      .sidebar {
        position: static;
        max-height: none;
        margin: 0 0 1.5rem 0;
      }
      .container > main {
        max-width: 100%;
      }
    }

    @media screen and (max-width: 768px) {
      header {
        padding: 0.875rem 1rem;
      }
      .container {
        padding: 1rem;
      }
      details {
        border-radius: 12px;
        margin-bottom: 1rem;
      }
      summary {
        padding: 1rem 1.25rem;
      }
      .accordion-content {
        padding: 0 1.25rem 1.25rem;
      }
      .accordion-content > details > summary {
        padding: 0.875rem 1rem;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      .accordion-content > details > summary b {
        font-size: 0.9rem;
      }
      .accordion-content > details > summary span[style*="float:right"],
      .accordion-content > details > summary span[style*="float: right"] {
        font-size: 0.7rem;
        letter-spacing: 0.5px;
      }
      .accordion-content ul li,
      .accordion-content ol li {
        padding: 0.5rem 0.6rem 0.5rem 1.75rem;
        font-size: 0.88rem;
      }
      .accordion-content ul li::before {
        left: 0.6rem;
        width: 5px;
        height: 5px;
        top: 0.9rem;
      }
      .accordion-content ol li::before {
        left: 0.5rem;
        width: 1.1rem;
        height: 1.1rem;
        font-size: 0.65rem;
      }
    }

    @media screen and (max-width: 480px) {
      .logo {
        font-size: 1.1rem;
      }
      section h2 {
        font-size: 1.35rem;
      }
      .accordion-title {
        font-size: 1rem;
      }
      .accordion-content > details > .accordion-content p {
        font-size: 0.88rem;
      }
      .sidebar a {
        padding: 0.6rem 0.75rem;
        font-size: 0.85rem;
      }
    }

    @media screen and (max-width: 360px) {
      .accordion-content > details > summary b {
        font-size: 0.85rem;
      }
      .accordion-content > details > summary span[style*="float:right"],
      .accordion-content > details > summary span[style*="float: right"] {
        font-size: 0.6rem;
        letter-spacing: 0px;
      }
    }

    /* ========== Misc ========== */
    h4 { margin-bottom: 0.5rem; }
    h4 + p { margin-top: 0; font-size: 0.95rem; }

    /* Home 페이지용 */
    .hero { padding: 3rem 2rem; background: #fff; text-align: center; }
    .hero h1 { font-size: 2.5rem; margin-bottom: 1rem; }
    .hero p { font-size: 1.125rem; color: #555; margin-bottom: 1.5rem; }
    .search-input {
      padding: 0.75rem 1rem;
      width: 300px;
      max-width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 1rem;
    }
  </style>
  
  <style id="sidebar-hotfix">
    /* === 레이아웃 강제 오버라이드 === */
    .no-sidebar .container {
      display: block !important;
      max-width: 1400px !important;
      margin: 0 auto !important;
      padding: 1.5rem !important;
    }
    .no-sidebar .container > main {
      max-width: 1100px !important;
      margin: 0 auto !important;
      padding: 0 !important;
    }

    .has-sidebar .container {
      display: grid !important;
      grid-template-columns: 280px 1fr !important;
      gap: 2rem !important;
      max-width: 1400px !important;
      margin: 0 auto !important;
      padding: 1.5rem !important;
    }
    .has-sidebar .container > main {
      grid-column: 2 !important;
      grid-row: 1 !important;
      max-width: none !important;
      width: 100% !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    .has-sidebar .sidebar {
      grid-column: 1 !important;
      grid-row: 1 !important;
    }

    @media (max-width: 1024px) {
      .has-sidebar .container { 
        display: block !important; 
        padding: 1rem !important; 
      }
      .has-sidebar .sidebar {
        position: static !important;
        max-height: none !important;
        margin: 0 0 1.5rem 0 !important;
      }
      .has-sidebar .container > main { 
        max-width: 100% !important; 
        margin: 0 !important; 
      }
    }
  </style>
</head>
  
<body class="{% if page.sidebar == false %}no-sidebar{% else %}has-sidebar{% endif %}">
  <header>
    <a href="/cs_study/home.html" class="logo">CS STUDY</a>
  </header>

  <div class="container">
    <main>
      {{ content }}
    </main>

    {%- unless page.sidebar == false -%}
    <aside class="sidebar">
      {% include sidebar.html %}
    </aside>
    {%- endunless -%}
  </div>

  <script>
    // Accordion toggle indicator update
    document.querySelectorAll('details').forEach(detail => {
      const indicator = detail.querySelector('.indicator');
      if (indicator) {
        detail.addEventListener('toggle', () => {
          indicator.textContent = detail.open ? '접기' : '펼치기';
        });
      }
    });

    // Home category search filter
    const searchInput = document.querySelector('.search-input');
    if (searchInput) {
      searchInput.addEventListener('input', e => {
        const filter = e.target.value.toLowerCase();
        document.querySelectorAll('.category-card').forEach(card => {
          const text = card.textContent.toLowerCase();
          card.style.display = text.includes(filter) ? 'flex' : 'none';
        });
      });
    }

    // Sidebar: 현재 페이지 링크 하이라이트
    (function() {
      const here = location.pathname.replace(/\/+$/, "");
      document.querySelectorAll(".sidebar a").forEach(a => {
        const href = a.getAttribute("href");
        if (!href) return;
        const clean = href.replace(/\/+$/, "");
        if (here === clean || (clean !== "/" && here.endsWith(clean))) {
          a.classList.add("active");
        }
      });
    })();

    // Sidebar: 검색 필터
    (function() {
      const input = document.getElementById("nav-filter");
      if (!input) return;

      input.addEventListener("input", (e) => {
        const q = e.target.value.trim().toLowerCase();
        const links = document.querySelectorAll(".sidebar nav a");
        links.forEach(a => {
          const show = a.textContent.toLowerCase().includes(q);
          a.style.display = show ? "flex" : "none";
        });

        document.querySelectorAll(".sidebar nav details").forEach(d => {
          const anyVisible = Array.from(d.querySelectorAll("a")).some(a => a.style.display !== "none");
          d.open = anyVisible || q !== "";
          d.style.display = anyVisible || q === "" ? "block" : "none";
        });
      });
    })();
  </script>
</body>
</html>
